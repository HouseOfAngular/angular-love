<div
  *transloco="let t; read: 'search'"
  aria-modal="true"
  role="dialog"
  class="al-overlay fixed top-0 left-0 z-40 h-screen w-screen bg-black/60"
  [attr.aria-label]="t('title')"
  [cdkTrapFocusAutoCapture]="true"
  cdkTrapFocus
>
  <div
    class="bg-al-card relative z-50 m-auto w-full max-w-(--breakpoint-xl) rounded-tl-lg rounded-tr-lg"
    [class]="adBannerStoreVisible() ? 'top-[168px]' : 'top-[84px]'"
  >
    <div class="w-full border-b p-4">
      <div
        class="border-al-pink flex w-full flex-row items-center rounded-sm border p-4"
      >
        <input
          type="text"
          class="h-full w-full border-none bg-transparent text-sm outline-hidden"
          [formControl]="searchForm"
          cdkFocusInitial
        />
        <button class="flex flex-row items-center" (click)="goToAllResults()">
          <fast-svg name="magnifier-glass" aria-hidden="true" size="24" />
        </button>
      </div>
    </div>
    <div class="p-4">
      @if (!searchStore.total()) {
        <div class="flex items-center justify-center p-4">
          <p>{{ t('no-matches') }}</p>
        </div>
      } @else {
        <p>{{ t('results', { total: searchStore.total() }) }}</p>
        <ul class="max-h-[50vh] overflow-auto">
          @for (item of searchStore.items(); track item.slug) {
            <a [routerLink]="['/', item.slug] | alLocalize">
              <li
                class="w-full cursor-pointer justify-between border-b last:border-none"
              >
                <al-search-result-item [item]="item" />
              </li>
            </a>
          }
        </ul>
      }
    </div>
  </div>
</div>
