<a [routerLink]="['/', article().slug] | localize">
  <div
    class="h-full rounded-lg bg-no-repeat"
    [ngClass]="{
      'bg-cover transition-transform hover:scale-105 motion-reduce:transition-none motion-reduce:hover:scale-100':
        layout() === 'compact',
      'hover:shadow-al-primary bg-contain bg-center': layout() === 'hero'
    }"
    [style.background-image]="'url(' + article().featuredImageUrl + ')'"
  >
    <div
      class="relative flex h-full flex-col justify-between"
      [ngClass]="{
        'bg-al-background opacity-85': layout() === 'compact',
        'bg-al-background-gradient rounded-lg': layout() === 'hero'
      }"
    >
      <div
        class="hover:bg-al-bottom-radial-gradient absolute h-full w-full"
      ></div>

      <div
        class="flex items-center justify-between"
        [ngClass]="{
          'px-6 pt-6': layout() === 'compact',
          'px-8 pt-8': layout() === 'hero'
        }"
      >
        <div class="flex items-center gap-2 max-md:self-start">
          <al-avatar [imageSrc]="article().author.avatarUrl" size="sm" />
          <span class="text-sm/[14px] font-medium">
            {{ article().author.name }}
          </span>
        </div>

        <div
          class="flex flex-col items-center justify-end gap-6 gap-y-4 md:flex-row"
        >
          @if (layout() === 'hero') {
            <span class="w-full whitespace-nowrap text-sm/[14px] font-medium">
              {{ article().publishDate | date: 'mediumDate' }}
            </span>
            <al-difficulty [difficulty]="article().difficulty" />
          }
          <span class="flex w-full flex-row items-center justify-end gap-2">
            <al-icon name="clock" class="inline-block h-4 bg-white" />
            <p class="text-sm/[14px]">{{ article().readingTime }} min</p>
          </span>
        </div>
      </div>

      <div
        class="flex flex-col"
        [ngClass]="{
          'px-6 pb-6 pt-8': layout() === 'compact',
          'gap-5 px-8 pb-8 pt-44': layout() === 'hero'
        }"
      >
        <p
          class="line-clamp-2 font-bold"
          [ngClass]="{
            'text-2xl': layout() === 'compact',
            'text-4xl': layout() === 'hero'
          }"
        >
          {{ article().title }}
        </p>
        <p class="line-clamp-2 text-base">
          {{ article().excerpt }}
        </p>
      </div>
    </div>
  </div>
</a>
