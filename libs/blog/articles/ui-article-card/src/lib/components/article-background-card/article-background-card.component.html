<div
  data-testid="card-bg-image"
  class="h-full rounded-lg bg-no-repeat"
  [ngClass]="{
    'bg-cover': layout() === 'compact',
    'hover:shadow-al-pink bg-contain bg-center': layout() === 'hero'
  }"
  [style.background-image]="'url(' + article().featuredImageUrl + ')'"
>
  <div
    data-testid="card-bg-image-shadow"
    class="h-full"
    [ngClass]="{
      'bg-al-gray-500': layout() === 'compact',
      'bg-al-gradient-black hover:bg-al-gradient-black-red rounded-lg':
        layout() === 'hero'
    }"
    [routerLink]="['/', article().slug]"
  >
    <div
      data-testid="card-data"
      class="flex items-center justify-between"
      [ngClass]="{
        'px-6 pt-6': layout() === 'compact',
        'px-8 pt-8': layout() === 'hero'
      }"
    >
      <div class="flex items-center gap-2">
        <al-avatar [imageSrc]="article().author.avatarUrl" size="sm" />
        <span class="text-sm/[14px] font-medium text-white">
          {{ article().author.name }}
        </span>
      </div>

      <div class="flex items-center gap-2">
        @if (layout() === 'hero') {
          <span
            data-testid="card-span-date"
            class="text-sm/[14px] font-medium text-white"
          >
            {{ article().publishDate | date: 'mediumDate' }}
          </span>
        }
        <al-icon name="clock" />
        <p class="text-sm/[14px] text-white">{{ article().readingTime }} min</p>
      </div>
    </div>
    <div
      data-testid="card-content"
      [ngClass]="{
        'px-6 pb-6 pt-8': layout() === 'compact',
        'px-8 pb-8 pt-44': layout() === 'hero'
      }"
    >
      <p class="line-clamp-2 text-2xl font-bold text-white">
        {{ article().title }}
      </p>
      <p class="line-clamp-2 pt-2 text-base text-white">
        {{ article().excerpt }}
      </p>
    </div>
  </div>
</div>
