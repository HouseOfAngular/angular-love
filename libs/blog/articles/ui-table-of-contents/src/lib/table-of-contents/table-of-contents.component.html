<div class="text-sm font-bold">
  <header *transloco="let t" class="mb-4 text-lg">
    {{ t('tableOfContents.title') }}
  </header>
  <div class="relative">
    <ul class="text- relative z-10 flex flex-col">
      @for (anchor of anchors(); track anchor.title) {
        <li
          class="before:bg-al-muted relative py-2 before:absolute before:left-[5px] before:top-0 before:-z-10 before:h-full before:w-[1px] before:content-[''] before:first:!top-1/2 before:first:!h-1/2 before:last:!h-1/2"
        >
          <div class="flex items-center gap-4">
            <div class="flex w-[11px] shrink-0 items-center justify-center">
              <div
                class="bg-al-muted outline-al-background rounded-full outline"
                [ngClass]="{
                  'size-[11px]': anchor.type === 'h2',
                  'bg-al-border  size-[7px]': anchor.type === 'h3'
                }"
                [class.!bg-al-primary]="activeAnchorTitle() === anchor.title"
              ></div>
            </div>

            <a
              [ngClass]="{
                'text-al-primary font-bold':
                  activeAnchorTitle() === anchor.title,
                'ml-2 font-medium': anchor.type === 'h3'
              }"
              [fragment]="anchor.title"
              [routerLink]="[]"
              (click)="anchorClick.emit(anchor)"
            >
              {{ anchor.title }}
            </a>
          </div>
        </li>
      }
    </ul>
  </div>
</div>
