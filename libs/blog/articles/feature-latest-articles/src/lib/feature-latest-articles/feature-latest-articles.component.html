<al-article-list-title
  *transloco="let t; read: 'homePage'"
  [title]="t('latest')"
  [link]="{ displayName: t('seeAll'), href: 'latest' }"
/>
<section
  *transloco="let t; read: 'homePage'"
  class="mt-3 grid grid-cols-1 gap-x-4 gap-y-4 md:grid-cols-2 md:gap-x-8 lg:grid-cols-3 lg:gap-y-8"
  [attr.aria-label]="t('latest')"
>
  @if (!isFetchArticleListLoading()) {
    @for (article of articles(); track i; let last = $last, i = $index) {
      <al-article-card
        class="regular-card"
        [ngClass]="{ 'hidden lg:block': last }"
        [article]="article"
        [imagePriority]="i < 2 ? 1 : null"
        cardType="regular"
      />
    }
  } @else {
    <al-article-regular-card-skeleton *alRepeat="4" />
  }
  <div
    class="relative flex items-center md:max-lg:col-span-2 lg:col-start-3 lg:row-start-1"
  >
    <!-- when "newsletter banner" exist put it in place of the real newsletter -->
    @if (cardBanner()) {
      <aside
        style="
          width: 100%;
          height: 100%;
          position: absolute;
          overflow: hidden;
          border-radius: 8px;
        "
      >
        <img
          tabindex="0"
          role="button"
          class="!relative cursor-pointer shadow-inner blur-xl"
          [attr.aria-label]="cardBanner()!.alt!"
          [alt]="cardBanner()!.alt!"
          [ngSrc]="cardBanner()!.url!"
          (click)="navigateFromBanner()"
          (keydown.enter)="navigateFromBanner()"
          style="object-fit: cover"
          fill
          priority
        />
      </aside>
      <aside>
        <div style="box-shadow: 0 0 8px 8px blue inset">
          <img
            tabindex="0"
            role="button"
            class="!relative cursor-pointer"
            [attr.aria-label]="cardBanner()!.alt!"
            [alt]="cardBanner()!.alt!"
            [ngSrc]="cardBanner()!.url!"
            (click)="navigateFromBanner()"
            (keydown.enter)="navigateFromBanner()"
            fill
            priority
          />
        </div>
      </aside>
    } @else {
      <al-newsletter alCardContent />
    }
  </div>
</section>
